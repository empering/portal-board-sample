<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.re.kari.portal.board.article.ArticleMapper">

    <select id="findAll" resultType="article" parameterType="long">
        SELECT
            ARTICLE_ID,
            PARENT_ARTICLE_ID,
            BOARD_ID,
            NOTICE_YN,
            TITLE,
            CONTENTS,
            READ_COUNT,
            USE_YN,
            REGISTER_ID,
            REGISTER_TIMESTAMP,
            UPDATE_ID,
            UPDATE_TIMESTAMP
        FROM BOARD_ARTICLE
        WHERE BOARD_ID = #{boardId}
    </select>

    <select id="findById" resultType="article" parameterType="long">
        SELECT
            ARTICLE_ID,
            PARENT_ARTICLE_ID,
            BOARD_ID,
            NOTICE_YN,
            TITLE,
            CONTENTS,
            READ_COUNT,
            USE_YN,
            REGISTER_ID,
            REGISTER_TIMESTAMP,
            UPDATE_ID,
            UPDATE_TIMESTAMP
        FROM BOARD_ARTICLE
        WHERE ARTICLE_ID = #{articleId}
    </select>

    <insert id="save" parameterType="article" keyProperty="articleId" useGeneratedKeys="true">
        INSERT INTO BOARD_ARTICLE (
        PARENT_ARTICLE_ID,
        BOARD_ID,
        NOTICE_YN,
        TITLE,
        CONTENTS,
        READ_COUNT,
        USE_YN,
        REGISTER_ID
        )
        VALUES (
        #{parentArticleId},
        #{boardId},
        #{noticeYn},
        #{title},
        #{contents},
        0,
        'Y',
        'ADMIN'
        )
    </insert>

</mapper>
